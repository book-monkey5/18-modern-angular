import{a as X}from"./chunk-X6RHL4JG.js";import{A as k,Aa as L,D as o,Ea as w,F as U,Fa as Q,Ga as W,H as A,K as l,M as u,O as c,Q as D,R as v,S as x,T as n,U as i,V as h,W as N,X as V,Y as H,Z as I,_ as s,aa as a,ba as _,ca as b,ea as g,ga as j,ha as S,ia as B,j as O,ja as q,oa as z,q as f,qa as K,r as C,ra as G,sa as T,t as E,u as P,w as R,x as $,z as M,za as J}from"./chunk-TZZPS5AN.js";var Y=(()=>{class e{confirmText=k.required({alias:"bmConfirm"});confirm=M();onClick(){window.confirm(this.confirmText())&&this.confirm.emit()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=E({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(r,d){r&1&&I("click",function(){return d.onClick()})},inputs:{confirmText:[1,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"},standalone:!0})}return e})();var F=(()=>{class e{transform(t){return t?`${t.substring(0,3)}-${t.substring(3)}`:""}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=P({name:"isbn",type:e,pure:!0,standalone:!0})}return e})();var Z=(()=>{class e{template=f(U);viewContainer=f(A);authService=f(X);constructor(){z(()=>{this.authService.isAuthenticated()?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=E({type:e,selectors:[["","bmLoggedinOnly",""]],standalone:!0})}return e})();var ne=e=>["/admin/edit",e];function oe(e,m){if(e&1&&(n(0,"p",1),a(1),i()),e&2){let t=s();o(),_(t.subtitle)}}function re(e,m){if(e&1&&(n(0,"li"),a(1),i()),e&2){let t=m.$implicit;o(),_(t)}}function ae(e,m){if(e&1&&(n(0,"div")(1,"h2"),a(2,"Published"),i(),a(3),S(4,"date"),i()),e&2){let t=s();o(3),b(" ",q(4,1,t.published,"longDate")," ")}}function me(e,m){if(e&1&&h(0,"img",3),e&2){let t=s();u("ngSrc",t.thumbnailUrl)}}function le(e,m){if(e&1){let t=H();N(0),n(1,"button",6),I("confirm",function(){R(t);let d=s(),p=s();return $(p.removeBook(d.isbn))}),a(2," Remove book "),i(),n(3,"a",7),a(4," Edit book "),i(),V()}if(e&2){let t=s();o(3),u("routerLink",j(1,ne,t.isbn))}}function pe(e,m){if(e&1&&(n(0,"div",0)(1,"h1"),a(2),i(),l(3,oe,2,1,"p",1),n(4,"div",2)(5,"div")(6,"h2"),a(7,"Authors"),i(),n(8,"ul"),v(9,re,2,1,"li",null,D),i()(),n(11,"div")(12,"h2"),a(13,"ISBN"),i(),a(14),S(15,"isbn"),i(),l(16,ae,5,4,"div"),i(),n(17,"h2"),a(18,"Description"),i(),n(19,"p"),a(20),i(),l(21,me,1,1,"img",3),n(22,"a",4),a(23,"Back to list"),i(),l(24,le,5,3,"ng-container",5),i()),e&2){let t=m;o(2),_(t.title),o(),c(t.subtitle?3:-1),o(6),x(t.authors),o(5),b(" ",B(15,6,t.isbn)," "),o(2),c(t.published?16:-1),o(4),_(t.description),o(),c(t.thumbnailUrl?21:-1)}}var ee=(()=>{class e{service=f(w);router=f(J);isbn=k.required();book$=Q(this.isbn).pipe(O(t=>this.service.getSingle(t)));removeBook(t){this.service.remove(t).subscribe(()=>{this.router.navigateByUrl("/books")})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C({type:e,selectors:[["bm-book-details"]],inputs:{isbn:[1,"isbn"]},standalone:!0,features:[g],decls:2,vars:3,consts:[[1,"details"],["role","doc-subtitle"],[1,"header"],["alt","Cover","width","200","height","250","priority","",3,"ngSrc"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(r,d){if(r&1&&(l(0,pe,25,8,"div",0),S(1,"async")),r&2){let p;c((p=B(1,1,d.book$))?0:-1,p)}},dependencies:[G,K,T,L,F,Z,Y]})}return e})();function ce(e,m){if(e&1&&h(0,"img",1),e&2){let t=s();u("ngSrc",t.thumbnailUrl)}}function se(e,m){if(e&1&&(n(0,"p",2),a(1),i()),e&2){let t=s();o(),b(" ",t.subtitle," ")}}function de(e,m){if(e&1&&(n(0,"li"),a(1),i()),e&2){let t=m.$implicit;o(),b(" ",t," ")}}function fe(e,m){if(e&1&&(n(0,"a",0),l(1,ce,1,1,"img",1),n(2,"h2"),a(3),i(),l(4,se,2,1,"p",2),n(5,"ul",3),v(6,de,2,1,"li",null,D),i(),n(8,"div"),a(9),S(10,"isbn"),i()()),e&2){let t=m;u("routerLink",t.isbn),o(),c(t.thumbnailUrl?1:-1),o(2),_(t.title),o(),c(t.subtitle?4:-1),o(2),x(t.authors),o(3),b("ISBN ",B(10,5,t.isbn),"")}}var te=(()=>{class e{book=k.required();static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C({type:e,selectors:[["bm-book-list-item"]],inputs:{book:[1,"book"]},standalone:!0,features:[g],decls:1,vars:1,consts:[[1,"list-item",3,"routerLink"],["alt","Cover","width","120","height","175",3,"ngSrc"],["role","doc-subtitle"],[1,"comma-list"]],template:function(r,d){if(r&1&&l(0,fe,11,7,"a",0),r&2){let p;c((p=d.book())?0:-1,p)}},dependencies:[L,F,T]})}return e})();var ue=(e,m)=>m.isbn;function _e(e,m){if(e&1&&(n(0,"li"),h(1,"bm-book-list-item",1),i()),e&2){let t=m.$implicit;o(),u("book",t)}}function be(e,m){e&1&&(n(0,"li"),a(1,"No books available."),i())}function Ce(e,m){e&1&&(n(0,"ul",0),v(1,_e,2,1,"li",null,ue,!1,be,2,0,"li"),i()),e&2&&(o(),x(m))}var ie=(()=>{class e{books=W(f(w).getAll());static \u0275fac=function(r){return new(r||e)};static \u0275cmp=C({type:e,selectors:[["bm-book-list"]],standalone:!0,features:[g],decls:3,vars:1,consts:[[1,"book-list"],[3,"book"]],template:function(r,d){if(r&1&&(n(0,"h1"),a(1,"Books"),i(),l(2,Ce,4,1,"ul",0)),r&2){let p;o(2),c((p=d.books())?2:-1,p)}},dependencies:[te]})}return e})();var Ye=[{path:"",component:ie},{path:":isbn",component:ee}];export{Ye as BOOKS_ROUTES};
