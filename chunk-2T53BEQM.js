import{a as Z}from"./chunk-X5KGH3HG.js";import{$ as f,A as N,B as v,Ca as O,Da as X,E as l,Ea as Y,G as U,I as V,L as s,N as _,P as c,R as D,S as x,T as S,U as r,V as n,W as g,X as H,Y as j,Z as q,_ as w,ba as m,ca as b,da as C,fa as B,ha as z,ia as y,j as $,ja as E,ka as K,ma as G,oa as J,pa as Q,q as u,qa as L,r as h,s as k,u as I,v as M,x as P,xa as W,y as A,ya as F}from"./chunk-KA3ORRWD.js";var tt=(()=>{let e=class e{constructor(){this.confirmText=v.required({alias:"bmConfirm"}),this.confirm=N()}onClick(){window.confirm(this.confirmText())&&this.confirm.emit()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=I({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(a,p){a&1&&w("click",function(){return p.onClick()})},inputs:{confirmText:[h.SignalBased,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"},standalone:!0});let t=e;return t})();var R=(()=>{let e=class e{transform(o){return o?`${o.substring(0,3)}-${o.substring(3)}`:""}};e.\u0275fac=function(a){return new(a||e)},e.\u0275pipe=M({name:"isbn",type:e,pure:!0,standalone:!0});let t=e;return t})();var et=(()=>{let e=class e{constructor(){this.template=u(U),this.viewContainer=u(V),this.authService=u(Z),G(()=>{this.authService.isAuthenticated()?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=I({type:e,selectors:[["","bmLoggedinOnly",""]],standalone:!0});let t=e;return t})();var rt=t=>["/admin/edit",t];function at(t,e){if(t&1&&(r(0,"p",1),m(1),n()),t&2){let i=f();l(),b(i.subtitle)}}function lt(t,e){if(t&1&&(r(0,"li"),m(1),n()),t&2){let i=e.$implicit;l(),b(i)}}function mt(t,e){if(t&1&&(r(0,"div")(1,"h2"),m(2,"Published"),n(),m(3),y(4,"date"),n()),t&2){let i=f();l(3),C(" ",K(4,1,i.published,"longDate")," ")}}function st(t,e){if(t&1&&g(0,"img",3),t&2){let i=f();_("ngSrc",i.thumbnailUrl)}}function ct(t,e){if(t&1){let i=q();H(0),r(1,"button",6),w("confirm",function(){P(i);let a=f(),p=f();return A(p.removeBook(a.isbn))}),m(2," Remove book "),n(),r(3,"a",7),m(4," Edit book "),n(),j()}if(t&2){let i=f();l(3),_("routerLink",z(1,rt,i.isbn))}}function pt(t,e){if(t&1&&(r(0,"div",0)(1,"h1"),m(2),n(),s(3,at,2,1,"p",1),r(4,"div",2)(5,"div")(6,"h2"),m(7,"Authors"),n(),r(8,"ul"),x(9,lt,2,1,"li",null,D),n()(),r(11,"div")(12,"h2"),m(13,"ISBN"),n(),m(14),y(15,"isbn"),n(),s(16,mt,5,4,"div"),n(),r(17,"h2"),m(18,"Description"),n(),r(19,"p"),m(20),n(),s(21,st,1,1,"img",3),r(22,"a",4),m(23,"Back to list"),n(),s(24,ct,5,3,"ng-container",5),n()),t&2){let i=e;l(2),b(i.title),l(),c(3,i.subtitle?3:-1),l(6),S(i.authors),l(5),C(" ",E(15,6,i.isbn)," "),l(2),c(16,i.published?16:-1),l(4),b(i.description),l(),c(21,i.thumbnailUrl?21:-1)}}var it=(()=>{let e=class e{constructor(){this.service=u(O),this.router=u(W),this.isbn=v.required(),this.book$=X(this.isbn).pipe($(o=>this.service.getSingle(o)))}removeBook(o){this.service.remove(o).subscribe(()=>{this.router.navigateByUrl("/books")})}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-details"]],inputs:{isbn:[h.SignalBased,"isbn"]},standalone:!0,features:[B],decls:2,vars:3,consts:[[1,"details"],["role","doc-subtitle"],[1,"header"],["alt","Cover","width","200","height","250","priority","",3,"ngSrc"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(a,p){if(a&1&&(s(0,pt,25,8,"div",0),y(1,"async")),a&2){let d;c(0,(d=E(1,1,p.book$))?0:-1,d)}},dependencies:[Q,J,L,F,R,et,tt]});let t=e;return t})();function dt(t,e){t&1&&g(0,"img",1),t&2&&_("ngSrc",e)}function ut(t,e){if(t&1&&(r(0,"p",2),m(1),n()),t&2){let i=f();l(),C(" ",i.subtitle," ")}}function ft(t,e){if(t&1&&(r(0,"li"),m(1),n()),t&2){let i=e.$implicit;l(),C(" ",i," ")}}function _t(t,e){if(t&1&&(r(0,"a",0),s(1,dt,1,1,"img",1),r(2,"h2"),m(3),n(),s(4,ut,2,1,"p",2),r(5,"ul",3),x(6,ft,2,1,"li",null,D),n(),r(8,"div"),m(9),y(10,"isbn"),n()()),t&2){let i,o=e;_("routerLink",o.isbn),l(),c(1,(i=o.thumbnailUrl)?1:-1,i),l(2),b(o.title),l(),c(4,o.subtitle?4:-1),l(2),S(o.authors),l(3),C("ISBN ",E(10,5,o.isbn),"")}}var nt=(()=>{let e=class e{constructor(){this.book=v.required()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-list-item"]],inputs:{book:[h.SignalBased,"book"]},standalone:!0,features:[B],decls:1,vars:1,consts:[[1,"list-item",3,"routerLink"],["alt","Cover","width","120","height","175",3,"ngSrc"],["role","doc-subtitle"],[1,"comma-list"]],template:function(a,p){if(a&1&&s(0,_t,11,7,"a",0),a&2){let d;c(0,(d=p.book())?0:-1,d)}},dependencies:[F,R,L]});let t=e;return t})();var bt=(t,e)=>e.isbn;function Ct(t,e){if(t&1&&(r(0,"li"),g(1,"bm-book-list-item",1),n()),t&2){let i=e.$implicit;l(),_("book",i)}}function ht(t,e){t&1&&(r(0,"li"),m(1,"No books available."),n())}function kt(t,e){t&1&&(r(0,"ul",0),x(1,Ct,2,1,"li",null,bt,!1,ht,2,0,"li"),n()),t&2&&(l(),S(e))}var ot=(()=>{let e=class e{constructor(){this.books=Y(u(O).getAll())}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-list"]],standalone:!0,features:[B],decls:3,vars:1,consts:[[1,"book-list"],[3,"book"]],template:function(a,p){if(a&1&&(r(0,"h1"),m(1,"Books"),n(),s(2,kt,4,1,"ul",0)),a&2){let d;l(2),c(2,(d=p.books())?2:-1,d)}},dependencies:[nt]});let t=e;return t})();var te=[{path:"",component:ot},{path:":isbn",component:it}];export{te as BOOKS_ROUTES};
