import{a as Z}from"./chunk-X5KGH3HG.js";import{$ as p,A,B as v,Ca as O,Da as X,E as a,Ea as Y,G as N,I as V,L as s,N as _,P as c,R as D,S as x,T as S,U as o,V as n,W as g,X as H,Y as j,Z as q,_ as w,ba as l,ca as b,da as C,fa as B,ha as z,ia as y,j as $,ja as E,ka as K,ma as G,oa as J,pa as Q,q as f,qa as L,r as h,s as k,u as I,v as M,x as P,xa as W,y as U,ya as F}from"./chunk-KA3ORRWD.js";var tt=(()=>{let e=class e{constructor(){this.confirmText=v.required({alias:"bmConfirm"}),this.confirm=A()}onClick(){window.confirm(this.confirmText())&&this.confirm.emit()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=I({type:e,selectors:[["","bmConfirm",""]],hostBindings:function(r,d){r&1&&w("click",function(){return d.onClick()})},inputs:{confirmText:[h.SignalBased,"bmConfirm","confirmText"]},outputs:{confirm:"confirm"},standalone:!0});let t=e;return t})();var R=(()=>{let e=class e{transform(m){return m?`${m.substring(0,3)}-${m.substring(3)}`:""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=M({name:"isbn",type:e,pure:!0,standalone:!0});let t=e;return t})();var et=(()=>{let e=class e{constructor(){this.template=f(N),this.viewContainer=f(V),this.authService=f(Z),G(()=>{this.authService.isAuthenticated()?this.viewContainer.createEmbeddedView(this.template):this.viewContainer.clear()})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=I({type:e,selectors:[["","bmLoggedinOnly",""]],standalone:!0});let t=e;return t})();var rt=t=>["/admin/edit",t];function at(t,e){if(t&1&&(o(0,"p",1),l(1),n()),t&2){let i=p();a(),b(i.subtitle)}}function lt(t,e){if(t&1&&(o(0,"li"),l(1),n()),t&2){let i=e.$implicit;a(),b(i)}}function mt(t,e){if(t&1&&(o(0,"div")(1,"h2"),l(2,"Published"),n(),l(3),y(4,"date"),n()),t&2){let i=p();a(3),C(" ",K(4,1,i.published,"longDate")," ")}}function st(t,e){if(t&1&&g(0,"img",3),t&2){let i=p();_("ngSrc",i.thumbnailUrl)}}function ct(t,e){if(t&1){let i=q();H(0),o(1,"button",6),w("confirm",function(){P(i);let r=p(),d=p();return U(d.removeBook(r.isbn))}),l(2," Remove book "),n(),o(3,"a",7),l(4," Edit book "),n(),j()}if(t&2){let i=p();a(3),_("routerLink",z(1,rt,i.isbn))}}function pt(t,e){if(t&1&&(o(0,"div",0)(1,"h1"),l(2),n(),s(3,at,2,1,"p",1),o(4,"div",2)(5,"div")(6,"h2"),l(7,"Authors"),n(),o(8,"ul"),x(9,lt,2,1,"li",null,D),n()(),o(11,"div")(12,"h2"),l(13,"ISBN"),n(),l(14),y(15,"isbn"),n(),s(16,mt,5,4,"div"),n(),o(17,"h2"),l(18,"Description"),n(),o(19,"p"),l(20),n(),s(21,st,1,1,"img",3),o(22,"a",4),l(23,"Back to list"),n(),s(24,ct,5,3,"ng-container",5),n()),t&2){let i=e;a(2),b(i.title),a(),c(3,i.subtitle?3:-1),a(6),S(i.authors),a(5),C(" ",E(15,6,i.isbn)," "),a(2),c(16,i.published?16:-1),a(4),b(i.description),a(),c(21,i.thumbnailUrl?21:-1)}}var it=(()=>{let e=class e{constructor(){this.service=f(O),this.router=f(W),this.isbn=v.required(),this.book$=X(this.isbn).pipe($(m=>this.service.getSingle(m)))}removeBook(m){this.service.remove(m).subscribe(()=>{this.router.navigateByUrl("/books")})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-details"]],inputs:{isbn:[h.SignalBased,"isbn"]},standalone:!0,features:[B],decls:2,vars:3,consts:[[1,"details"],["role","doc-subtitle"],[1,"header"],["alt","Cover","width","200","height","250","priority","",3,"ngSrc"],["routerLink","..",1,"button","arrow-left"],[4,"bmLoggedinOnly"],["bmConfirm","Remove book?",1,"red",3,"confirm"],[1,"button",3,"routerLink"]],template:function(r,d){if(r&1&&(s(0,pt,25,8,"div",0),y(1,"async")),r&2){let u;c(0,(u=E(1,1,d.book$))?0:-1,u)}},dependencies:[Q,J,L,F,R,et,tt]});let t=e;return t})();function dt(t,e){if(t&1&&g(0,"img",1),t&2){let i=p();_("ngSrc",i.thumbnailUrl)}}function ut(t,e){if(t&1&&(o(0,"p",2),l(1),n()),t&2){let i=p();a(),C(" ",i.subtitle," ")}}function ft(t,e){if(t&1&&(o(0,"li"),l(1),n()),t&2){let i=e.$implicit;a(),C(" ",i," ")}}function _t(t,e){if(t&1&&(o(0,"a",0),s(1,dt,1,1,"img",1),o(2,"h2"),l(3),n(),s(4,ut,2,1,"p",2),o(5,"ul",3),x(6,ft,2,1,"li",null,D),n(),o(8,"div"),l(9),y(10,"isbn"),n()()),t&2){let i=e;_("routerLink",i.isbn),a(),c(1,i.thumbnailUrl?1:-1),a(2),b(i.title),a(),c(4,i.subtitle?4:-1),a(2),S(i.authors),a(3),C("ISBN ",E(10,5,i.isbn),"")}}var nt=(()=>{let e=class e{constructor(){this.book=v.required()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-list-item"]],inputs:{book:[h.SignalBased,"book"]},standalone:!0,features:[B],decls:1,vars:1,consts:[[1,"list-item",3,"routerLink"],["alt","Cover","width","120","height","175",3,"ngSrc"],["role","doc-subtitle"],[1,"comma-list"]],template:function(r,d){if(r&1&&s(0,_t,11,7,"a",0),r&2){let u;c(0,(u=d.book())?0:-1,u)}},dependencies:[F,R,L]});let t=e;return t})();var bt=(t,e)=>e.isbn;function Ct(t,e){if(t&1&&(o(0,"li"),g(1,"bm-book-list-item",1),n()),t&2){let i=e.$implicit;a(),_("book",i)}}function ht(t,e){t&1&&(o(0,"li"),l(1,"No books available."),n())}function kt(t,e){t&1&&(o(0,"ul",0),x(1,Ct,2,1,"li",null,bt,!1,ht,2,0,"li"),n()),t&2&&(a(),S(e))}var ot=(()=>{let e=class e{constructor(){this.books=Y(f(O).getAll())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=k({type:e,selectors:[["bm-book-list"]],standalone:!0,features:[B],decls:3,vars:1,consts:[[1,"book-list"],[3,"book"]],template:function(r,d){if(r&1&&(o(0,"h1"),l(1,"Books"),n(),s(2,kt,4,1,"ul",0)),r&2){let u;a(2),c(2,(u=d.books())?2:-1,u)}},dependencies:[nt]});let t=e;return t})();var te=[{path:"",component:ot},{path:":isbn",component:it}];export{te as BOOKS_ROUTES};
