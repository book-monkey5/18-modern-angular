import{a as d}from"./chunk-X6RHL4JG.js";import{$ as R,Aa as u,Ba as q,Ca as J,D as m,Da as Q,Ea as X,I as y,K as S,M as F,N as $,O as g,R as I,S as M,T as n,U as o,V as k,Y as _,Z as C,_ as A,aa as r,ba as V,c as b,ca as D,ea as s,g as w,ga as H,h as L,ha as B,i as E,ia as j,j as T,k as x,la as O,q as c,qa as U,r as l,ta as N,ua as W,va as G,w as f,wa as P,x as h,xa as z,ya as K,za as Z}from"./chunk-TZZPS5AN.js";var ce=(e,a)=>a.isbn,me=e=>["/books",e];function le(e,a){if(e&1&&(n(0,"li")(1,"a",3),r(2),n(3,"p",4),r(4),o()()()),e&2){let t=a.$implicit;m(),F("routerLink",H(3,me,t.isbn)),m(),D(" ",t.title," "),m(2),V(t.subtitle)}}function se(e,a){e&1&&(n(0,"li"),r(1,"No results"),o())}function ue(e,a){e&1&&(n(0,"ul",2),I(1,le,5,5,"li",null,ce,!1,se,2,0,"li"),o()),e&2&&(m(),M(a))}var ee=(()=>{class e{service=c(X);input$=new b;isLoading=y(!1);results$;constructor(){this.results$=this.input$.pipe(w(t=>t.length>=3),L(500),E(),x(()=>this.isLoading.set(!0)),T(t=>this.service.getAllSearch(t)),x(()=>this.isLoading.set(!1)))}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=l({type:e,selectors:[["bm-search"]],standalone:!0,features:[s],decls:4,vars:5,consts:[["searchInput",""],["type","search","autocomplete","off","aria-label","Search",3,"input"],[1,"search-results"],[3,"routerLink"],["role","doc-subtitle"]],template:function(i,p){if(i&1){let v=_();n(0,"input",1,0),C("input",function(){f(v);let pe=R(1);return h(p.input$.next(pe.value))}),o(),S(2,ue,4,1,"ul",2),B(3,"async")}if(i&2){let v;$("loading",p.isLoading()),m(2),g((v=j(3,3,p.results$))?2:-1,v)}},dependencies:[u,U]})}return e})();var te=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=l({type:e,selectors:[["bm-home"]],standalone:!0,features:[s],decls:7,vars:0,consts:[["routerLink","/books",1,"button","red"]],template:function(i,p){i&1&&(n(0,"h1"),r(1,"Home"),o(),n(2,"a",0),r(3,` Show book list
`),o(),n(4,"h2"),r(5,"Search"),o(),k(6,"bm-search"))},dependencies:[u,ee]})}return e})();var ne=()=>{let e=c(d),a=c(Z);return e.isAuthenticated()?!0:(window.alert("Not logged in!"),a.parseUrl("/home"))};var ie=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:te},{path:"books",loadChildren:()=>import("./chunk-RFIR55AC.js").then(e=>e.BOOKS_ROUTES)},{path:"admin",loadChildren:()=>import("./chunk-26FUIAPV.js").then(e=>e.ADMIN_ROUTES),canActivate:[ne]}];var oe=(e,a)=>{let t=c(d),i="1234567890";if(t.isAuthenticated()){let p=e.clone({setHeaders:{Authorization:`Bearer ${i}`}});return a(p)}else return a(e)};var re={providers:[O({eventCoalescing:!0}),J(ie,Q()),N(G(),W([oe])),z()]};function de(e,a){if(e&1){let t=_();n(0,"button",6),C("click",function(){f(t);let p=A();return h(p.auth.logout())}),r(1,"Logout"),o()}}function fe(e,a){if(e&1){let t=_();n(0,"button",7),C("click",function(){f(t);let p=A();return h(p.auth.login())}),r(1,"Login"),o()}}var ae=(()=>{class e{auth=c(d);static \u0275fac=function(i){return new(i||e)};static \u0275cmp=l({type:e,selectors:[["bm-root"]],standalone:!0,features:[s],decls:12,vars:1,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],[1,"red"],[1,"green"],[1,"red",3,"click"],[1,"green",3,"click"]],template:function(i,p){i&1&&(n(0,"nav")(1,"a",0),r(2,"Home"),o(),n(3,"a",1),r(4,"Books"),o(),n(5,"a",2),r(6,"Administration"),o(),n(7,"div",3),S(8,de,2,0,"button",4)(9,fe,2,0,"button",5),o()(),n(10,"main"),k(11,"router-outlet"),o()),i&2&&(m(8),g(p.auth.isAuthenticated()?8:9))},dependencies:[K,u,q]})}return e})();P(ae,re).catch(e=>console.error(e));
